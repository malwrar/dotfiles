### Keybindings

# easy editing and testing of my various dotfiles

# TODO: refresh all dotfiles
#bind-key R source-file ~/.tmux.conf \; display-message "~/.tmux.conf reloaded"

# use C-a, since it's on the home row and easier to hit than C-b
set-option -g prefix C-a
unbind-key C-a
bind-key C-a send-prefix

# Use a popup window to edit dotfiles at runtime
bind-key C-c display-popup -E "$EDITOR ~/.tmux.conf" \; source-file "~/.tmux.conf" \; display-message "Reloaded ~/.tmux.conf"

# sane scrolling
set-option -g mouse on

# use vi-like keys for navigation in (??) select mode
set-option -wg mode-keys vi

bind-key -T copy-mode-vi 'v' send -X begin-selection
bind-key -T copy-mode-vi 'y' send -X copy-selection-and-cancel

# use vi-like keybindings for navigating splits
bind-key V split-window -h
bind-key S split-window -v
bind-key t next-window
bind-key T previous-window
bind-key C-o rotate-window

bind-key h select-pane -L
bind-key j select-pane -D
bind-key k select-pane -U
bind-key l select-pane -R

# opinionated layouts & layout navigation
bind-key enter next-layout
bind-key + select-layout main-horizontal
bind-key = select-layout main-vertical


### Look and feel

set-option -wg other-pane-height 25
set-option -wg other-pane-width 85
set-option -wg display-panes-time 1500

# Allow the arrow key to be used immediately after changing windows
set-option -g repeat-time 0

# 256 colors support
set-option -g default-terminal "screen-256color"

# start windows and panes at 1, not 0
set-option -g base-index 1
set-option -g pane-base-index 1

# i always get confused as to whether noon is 12am or 12pm, so why not just take
# the opportunity to use a clearer notation.
set-option -g clock-mode-style 24

# customize tmux status bar. i use tmux like a session manager for every
# terminal window i open, so information and style is fairly unintrusive.
 
# handy guide: https://medium.com/hackernoon/customizing-tmux-b3d2a5050207
set-option -g status-position top
set -g status-left "\## #H #S"
set -g status-left-length 10
set -g status-right ""

# this feature typically gets it wrong for me, so i'd rather just disable it and
# get in the habit of naming my windows.
set-option -wg automatic-rename off 

# default window title colors
setw -g status-style fg=colour167,bg=default
setw -g window-status-current-style fg=black,bg=colour167


# active window title colors
#set-window-option -g window-status-current-style fg=colour166,bg=default #orange and default
#set-window-option -g window-status-current-style bright


### Plugins

# list of plugins
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible'
set -g @plugin 'christoomey/vim-tmux-navigator'

# TMUX plugin manager (keep at the bottom of tmux.conf)
run -b '~/.tmux/plugins/tpm/tpm'
